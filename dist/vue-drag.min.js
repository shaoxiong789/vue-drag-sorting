!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueDrag=t():e.VueDrag=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);Object.defineProperty(t,"drag",{enumerable:!0,get:function(){return n.drag}});var i=r(5);Object.defineProperty(t,"dragboot",{enumerable:!0,get:function(){return i.dragboot}});var o=r(13);Object.defineProperty(t,"dragbox",{enumerable:!0,get:function(){return o.dragbox}})},function(e,t,r){var n=r(2)(r(3),r(4),null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,r,n){var i,o=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(i=e,o=e.default);var s="function"==typeof o?o.options:o;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),r&&(s._scopeId=r),n){var u=Object.create(s.computed||null);Object.keys(n).forEach(function(e){var t=n[e];u[e]=function(){return t}}),s.computed=u}return{esModule:i,exports:o,options:s}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{item:{type:Object,required:!0}},data:function(){return{}},methods:{drag:function(e,t){console.log("开始拖动"),this.$parent.$parent.currentItem=this.item},dragend:function(e){}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"drag-in",attrs:{draggable:"true"},on:{dragend:function(t){e.dragend(t)},dragstart:function(t){e.drag(t,e.$el)}}},[e._t("default")],2)},staticRenderFns:[]}},function(e,t,r){r(6);var n=r(2)(r(11),r(12),"data-v-921a2972",null);e.exports=n.exports},function(e,t,r){var n=r(7);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);r(9)("ad236e00",n,!0)},function(e,t,r){t=e.exports=r(8)(),t.push([e.id,"",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){function n(e){for(var t=0;t<e.length;t++){var r=e[t],n=d[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(o(r.parts[i]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(o(r.parts[i]));d[r.id]={id:r.id,refs:1,parts:a}}}}function i(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function o(e){var t,r,n=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(n){if(h)return g;n.parentNode.removeChild(n)}if(v){var o=f++;n=p||(p=i()),t=a.bind(null,n,o,!1),r=a.bind(null,n,o,!0)}else n=i(),t=s.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}function a(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function s(e,t){var r=t.css,n=t.media,i=t.sourceMap;if(n&&e.setAttribute("media",n),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var u="undefined"!=typeof document,c=r(10),d={},l=u&&(document.head||document.getElementsByTagName("head")[0]),p=null,f=0,h=!1,g=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,r){h=r;var i=c(e,t);return n(i),function(t){for(var r=[],o=0;o<i.length;o++){var a=i[o],s=d[a.id];s.refs--,r.push(s)}t?(i=c(e,t),n(i)):i=[];for(var o=0;o<r.length;o++){var s=r[o];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete d[s.id]}}}};var m=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],a=o[0],s=o[1],u=o[2],c=o[3],d={id:e+":"+i,css:s,media:u,sourceMap:c};n[a]?n[a].parts.push(d):r.push(n[a]={id:a,parts:[d]})}return r}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{},props:{list:{type:Array,required:!0}},data:function(){return{currentItem:null,targetItem:null,dragging:!1}},methods:{}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dragboot"},[e._t("default")],2)},staticRenderFns:[]}},function(e,t,r){r(14);var n=r(2)(r(16),r(17),null,null);e.exports=n.exports},function(e,t,r){var n=r(15);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);r(9)("04a092c0",n,!0)},function(e,t,r){t=e.exports=r(8)(),t.push([e.id,".active{height:10px;background:#000}.dragperch{display:none}.dragging .dragperch{display:block}.dragbox:active{opacity:0;height:0}",""])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Array.prototype.removeByObject=function(e,t){for(var r=0;r<this.length;r++)if(this[r][t]==e[t]){this.splice(r,1);break}return this},Array.prototype.insert=function(e,t){return this.splice(e,0,t),this},Array.prototype.getIndexByObject=function(e,t){for(var r=0;r<this.length;r++)if(this[r][t]==e[t])return r},t.default={props:{item:{type:Object,required:!0},indicate:{type:String,required:!0}},methods:{drop:function(e){this.removeAllDragging(),this.$parent.currentItem[this.indicate]!=this.item[this.indicate]&&(this.$parent.list=this.$parent.list.removeByObject(this.$parent.currentItem,"name"),this.$parent.list.insert(this.$parent.list.getIndexByObject(this.item,"name"),this.$parent.currentItem))},removeAllDragging:function(){for(var e=0;e<this.$parent.$children.length;e++)this.$parent.$children[e].$el.classList.remove("dragging")},removeOtherDragging:function(){for(var e=0;e<this.$parent.$children.length;e++)this.$parent.targetItem&&this.$parent.targetItem[this.indicate]!=this.$parent.$children[e].item[this.indicate]&&this.$parent.$children[e].$el.classList.remove("dragging")},mouseout:function(){this.removeAllDragging()},dragleave:function(){console.log("离开目标作用域范围",this.$el)},dragenter:function(){console.log("进入作用域范围",this.$el)},allowDrop:function(e){e.preventDefault(),this.removeOtherDragging(),this.$parent.currentItem[this.indicate]!=this.item[this.indicate]&&(this.$parent.targetItem=this.item,this.$el.classList.add("dragging"))}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dragbox",on:{drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t,e.$el)},dragover:function(t){e.allowDrop(t)},dragenter:function(t){e.dragenter()},mouseout:function(t){e.mouseout()}}},[r("div",{staticClass:"dragperch"},[e._t("dragperch")],2),e._v(" "),e._t("drag")],2)},staticRenderFns:[]}}])});